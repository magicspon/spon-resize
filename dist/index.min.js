!function(n,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):n.sponResize=e()}(this,function(){"use strict";function n(n){return n=n||Object.create(null),{on:function(e,t){(n[e]||(n[e]=[])).push(t)},off:function(e,t){n[e]&&n[e].splice(n[e].indexOf(t)>>>0,1)},emit:function(e,t){(n[e]||[]).slice().map(function(n){n(t)}),(n["*"]||[]).slice().map(function(n){n(e,t)})}}}var e=function(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}(function(n,e){return e={exports:{}},n(e,e.exports),e.exports}(function(n,e){Object.defineProperty(e,"__esModule",{value:!0});e.default=function(n){var e=void 0,t=function(t,i){return function(){e=null,n.apply(t,i)}},i=function(){if(null===e||void 0===e){for(var n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];e=requestAnimationFrame(t(this,i))}};return i.cancel=function(){return cancelAnimationFrame(e)},i}})),t=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n};return function(){var i=n(),o=window.getComputedStyle(document.body,":after"),r=function(){return o.getPropertyValue("content").replace(/'|"/g,"")},u=window.innerWidth,c=window.innerHeight,a=u/c,f=void 0,d=void 0,l=r(),s=function(){return u=window.innerWidth,c=window.innerHeight,a=u/c,{width:u,height:c,ratio:a}},h=function n(e,t){n.value!==e&&(t(e),n.value=e)},p=function(n,e,t){var i=window.matchMedia(n).matches;i?h(i,e):h(i,t)},w=function(){return requestAnimationFrame(function(){s(),l=r(),i.emit("view:resize",{width:u,height:c,query:l,ratio:a}),d!==l&&(i.emit("view:change",{width:u,height:c,query:l,ratio:a}),d=l)})};return t({},i,{width:u,height:c,at:function(n,e){var t=e.match,o=void 0===t?function(){}:t,r=e.unmatch,u=void 0===r?function(){}:r;p(n,o,u),i.on("view:resize",function(){p(n,o,u)})},start:function(){f=e(w),window.addEventListener("resize",f,!1)},destroy:function(){window.removeEventListener("resize",f,!1),f.cancel()},update:s})}});
